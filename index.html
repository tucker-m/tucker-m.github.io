<!doctype html>
<html>
    <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/main.css" />
<!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//hits.tuckerm.us/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->
  </head>

  	<script type="text/javascript">
		let theme = localStorage.getItem("theme");
		if (theme === "dark") {
			document.getElementsByTagName("html")[0].classList.add("dark");
		}
	</script>

  <body>
	  <div class='content'>
		  <div class='width-constraint'>
			  <div class='header'>
  <div class="header-row theme-switch-container">
	  <div id="theme-switch">Mode: <span id="theme-mode"></span></div>
  </div>
  <div class="header-row">
    <a class='main-link' href="/">Tucker McKnight's Blog</a>
    <ul>
      <li><a href="/">Home</a></li>
    </ul>
  </div>
</div>

			  <div class='post-list'>
			  <h1 class='all-posts'>All Posts</h1><div class='all-posts-post'>
      <h2 class='post-title'><a href="/posts/test/">Test Post</a></h2>
      <p class='post-intro'><span class='date'>October 17, 2021</span>Lorem ipsum dolor sit amet</p></div>
			  </div>
		  </div>
	  </div>
  </body>
  	<script type="text/javascript">
    const setTheme = (text) => {
      localStorage.setItem("theme", text);
      themeText.innerText = text;

    }
    const modes = {
      "light": () => {},
      "dark": () => {},
      "os": () => {},
    }
		const link = document.getElementById("theme-switch");
    const htmlElement = document.getElementsByTagName("html")[0];
    const themeText = document.getElementById("theme-mode");
    let initialThemeText = "light";
    if (htmlElement.classList.contains("dark")) {
      initialThemeText = "dark";
    }
    themeText.innerText = initialThemeText;

		link.addEventListener("click", (event) => {
			if (htmlElement.classList.toggle("dark")) {
        setTheme("dark");
			}
			else {
        setTheme("light");
			}
		})
	</script>

</html>
